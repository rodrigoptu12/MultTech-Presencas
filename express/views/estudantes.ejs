<!-- estudantes.html -->

<!DOCTYPE html>
<html>
  <head>
    <title>Estudantes</title>
    <link rel="stylesheet" href="/styles/estudantes.css" />
  </head>

  <body>
    <div class="header">
      <a href="/" class="logo">Avaliações UNB</a>
      <div class="header-right">
        <a href="/disciplinas">Disciplina</a>
        <a href="/estudantes">Estudante</a>
        <a href="/departamentos">Departamento</a>
      </div>
    </div>
    <!-- mensagem -->
    <p><%= mensagem %></p>

    <h1>Lista de Estudantes</h1>
    <div class="conteiner">
      <div class="form-container">
        <form method="POST" action="/estudantes">
          <label for="nome">Nome:</label>
          <input type="text" id="nome" name="nome" required />
          <br />
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required />
          <br />
          <label for="matricula">Matricula</label>
          <input type="text" id="matricula" name="matricula" required />
          <br />
          <label for="curso">Curso:</label>
          <input type="text" id="curso" name="curso" required />
          <br />
          <label for="senha">Senha:</label>
          <input type="password" id="senha" name="senha" required />
          <br />
          <button type="submit">Adicionar Estudante</button>
        </form>
        <!-- Atulizar Estudante -->
        <form method="POST" action="/estudantes/update">
          <label for="id_atualizar">ID do Estudante:</label>
          <input type="text" id="id_atualizar" name="id" required />
          <br />
          <label for="nome_atualizar">Nome:</label>
          <input type="text" id="nome_atualizar" name="nome" required />
          <br />
          <label for="email_atualizar">Email:</label>
          <input type="email" id="email_atualizar" name="email" required />
          <br />
          <label for="matricula_atualizar">Matricula:</label>
          <input
            type="text"
            id="matricula_atualizar"
            name="matricula"
            required
          />
          <br />
          <label for="curso_atualizar">Curso:</label>
          <input type="text" id="curso_atualizar" name="curso" required />
          <br />
          <label for="senha_atualizar">Senha:</label>
          <input type="password" id="senha_atualizar" name="senha" required />
          <br />
          <button type="submit">Atualizar Estudante</button>
        </form>

        <!-- Deletar Estudante -->
        <form method="POST" action="/estudantes/delete">
          <label for="id_excluir">ID do Estudante:</label>
          <input type="text" id="id_excluir" name="id" required />
          <br />
          <button type="submit">Excluir Estudante</button>
        </form>
      </div>
      <div class="table-container">
        <!-- Se apertar o botão gere a lista de estudantes -->
        <button id="botao">Gerar Lista</button>
        <script>
          document.getElementById("botao").onclick = function () {
            location.href = "/estudantes";
          };
        </script>
        <ul>
          <% if (estudantes && estudantes.length > 0) { %> <%
          estudantes.forEach(function(estudante) { %>
          <li>
            <strong>ID:</strong> <%= estudante.id %><br />
            <strong>Nome:</strong> <%= estudante.nome %><br />
            <strong>Email:</strong> <%= estudante.email %>
          </li>
          <% }); %> <% } else { %>
          <li>Nenhum estudante encontrado.</li>
          <% } %>
        </ul>
      </div>
    </div>

  </body>
</html>
